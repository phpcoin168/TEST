<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>立即購買 eSIM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- 引入 SellApp 样式 -->
  <link href="https://cdn.sell.app/embed/style.css" rel="stylesheet" />

  <!-- 引入 SellApp JavaScript -->
  <script src="https://cdn.sell.app/embed/script.js" type="module"></script>
</head>
<body>
  <script>
    // 從網址取得 UID
    const uid = new URLSearchParams(window.location.search).get("uid");

    // 等待 SellApp 初始化完畢後自動打開商品購買彈窗
    window.addEventListener("sellApp:ready", () => {
      if (!uid) {
        alert("錯誤：缺少 Telegram UID");
        return;
      }

      // 自動觸發購買視窗，並預填 UID 至指定自訂欄位
      window.sellApp.open({
        store: "62397",
        product: "303422",
        darkmode: false,
        fields: {
          "additional-c0fd7f23a0e8606a6acdb67ffda9040d": uid  // TGID 對應的欄位 ID
        }
      });
    });
  </script>
</body>
</html>
